<!DOCTYPE html>
<!-- AWP_In_Variable Name='"Tube_KV_SET"' -->
<!-- AWP_In_Variable Name='"Tube_mA_SET"' -->
<!-- AWP_In_Variable Name='"Alarm_Reset_Key"' -->
<!-- AWP_In_Variable Name='"HV_Close_Key"' -->
<!-- AWP_In_Variable Name='"Shutter_OFF_Key"' -->

<!-- AWP_In_Variable Name='"Tube_KV_Dispplay"' -->

<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!-- <meta http-equiv="Refresh" content="10"> -->
    <title>TDXRD</title>
    <link rel="stylesheet" type="text/css" href="main-rem.css">
    <!-- <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script> -->
    <script>
        window.onload = function () {
            getRem(720, 10); //rem转换
            var mv = document.getElementById('voltageMonitoring').innerText;
            document.getElementById('voltageMonitoring').innerText = parseFloat(mv).toFixed(2); // 电压监视初始化赋值

            mv = document.getElementById('currentMonitoring').innerText;
            document.getElementById('currentMonitoring').innerText = parseFloat(mv).toFixed(2); // 电流监视

            mv = document.getElementById('powerMonitoring').innerText;
            document.getElementById('powerMonitoring').innerText = parseFloat(mv).toFixed(2); // 功率监视

            mv = document.getElementById('detectorMonitoring').innerText;
            document.getElementById('detectorMonitoring').innerText = parseFloat(mv).toFixed(1); // 探测器计数监视

            mv = document.getElementById('waterTemperatureMonitoring').innerText;
            document.getElementById('waterTemperatureMonitoring').innerText = parseFloat(mv).toFixed(1); // 水温监视

            mv = document.getElementById('tubeTemperatureMonitoring').innerText = parseFloat(mv).toFixed(1); // 管温监视

            mv = document.getElementById('TsMonitoring').innerText;
            document.getElementById('TsMonitoring').innerText = parseFloat(mv).toFixed(4); // Ts轴监视

            mv = document.getElementById('TdMonitoring').innerText;
            document.getElementById('TdMonitoring').innerText = parseFloat(mv).toFixed(4); // Td轴监视

            mv = document.getElementById('PhiMonitoring').innerText;
            document.getElementById('PhiMonitoring').innerText = parseFloat(mv).toFixed(4); // Phi轴监视

            mv = document.getElementById('upperVoltageLimit').innerText;
            document.getElementById('upperVoltageLimit').innerText = parseFloat(mv).toFixed(2); // 电压上限

            mv = document.getElementById('upperCurrentLimit').innerText;
            document.getElementById('upperCurrentLimit').innerText = parseFloat(mv).toFixed(2); // 电流上限

            mv = document.getElementById('upperPowerLimit').innerText;
            document.getElementById('upperPowerLimit').innerText = parseFloat(mv).toFixed(2); // 功率上限
        };
        window.onresize = function () {
            getRem(720, 8)
        };

        function getRem(pwidth, prem) {
            var html = document.getElementsByTagName("html")[0];
            var oWidth = document.body.clientWidth || document.documentElement.clientWidth;
            html.style.fontSize = oWidth / pwidth * prem + "px";
        }
    </script>
</head>

<body>
    <div>
        <div class="content">
            <div class="header-stand"> TD-3500 型X射线衍射仪控制系统 </div>
            <div class="tab-content">
                <div class="tab-group">
                    <div class="tab-stand active" id="systemParameter" onclick="changeTab('systemParameter')">系统参数</div>
                    <div class="tab-stand" id="stateBrowsing" onclick="changeTab('stateBrowsing')">状态浏览</div>
                    <div class="tab-stand" id="deviceParameters" onclick="changeTab('deviceParameters')">设备参数</div>
                </div>

                <div class="tabView show" id="systemParameterView">
                    <div class="tab-item-border">
                        <div class="tab-item">
                            <div class="card-item-stand">
                                <div class="card-title-stand">X射线高压发生器</div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">电压监视</div>
                                    <div class="card-td-second-stand" id="voltageMonitoring">:=Tube_KV_Dispplay:</div>
                                    <div class="card-td-third-stand">KV</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">电流监视</div>
                                    <div class="card-td-second-stand" id="currentMonitoring">:=Tube_mA_Display:</div>
                                    <div class="card-td-third-stand">mA</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">功率监视</div>
                                    <div class="card-td-second-stand" id="powerMonitoring">:=Tube_Power_Display:</div>
                                    <div class="card-td-third-stand">W</div>
                                </div>
                                <!-- </div> -->

                                <!-- <div class="card-item-stand"> -->
                                <div class="card-title-stand">动态数据</div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">探测器</div>
                                    <div class="card-td-second-stand" id="detectorMonitoring">:=SC_Count:</div>
                                    <div class="card-td-third-stand">CPS</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">水温监视</div>
                                    <div class="card-td-second-stand" id="waterTemperatureMonitoring"> :=SampingWater_Tube:</div>
                                    <div class="card-td-third-stand">℃</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">管温监视</div>
                                    <div class="card-td-second-stand" id="tubeTemperatureMonitoring"> :=Temp_Tube_Dispplay:</div>
                                    <div class="card-td-third-stand">℃</div>
                                </div>
                                <!-- </div> -->

                                <!-- <div class="card-item-stand"> -->
                                <div class="card-title-stand">立式测角仪</div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">Ts轴</div>
                                    <div class="card-td-second-stand" id="TsMonitoring">:=Motion_Position_Ts:</div>
                                    <div class="card-td-third-stand">Deg</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">Td轴</div>
                                    <div class="card-td-second-stand" id="TdMonitoring">:=Motion_Position_Td:</div>
                                    <div class="card-td-third-stand">Deg</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">Phi轴</div>
                                    <div class="card-td-second-stand" id="PhiMonitoring">:=Motion_Position_Phi:</div>
                                    <div class="card-td-third-stand">Deg</div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="tab-item-border">
                        <!-- ===============测试开始========================== -->
                        <!-- <div>
                            <form method="POST">
                                <p>电压：<input name='"Tube_KV_SET"' value=':="Tube_KV_SET":' type="text" id="idTd"><input type="submit" value="设置"></p>
                            </form>
                            <form method="POST">
                                <p>电流：<input name='"Tube_mA_SET"' value=':="Tube_mA_SET":' type="text"><input type="submit" value="设置"></p>
                            </form>
                        </div> -->
                        <!-- ===============测试结束 ========================== -->

                        <div class="tab-item">
                            <!-- <input class="card-td-l" onkeyup="value=value.replace(/[^\d\.]/g,'')" onblur="value=value.replace(/[^\d\.]/g,'')" value="" id="setTd" /> -->
                            <!-- <div class="card-btn" onclick="setValue('setTd','idTd')">设置</div> -->

                            <!-- <div class="card-item-stand">
                            <div class="card-title-stand blue">X射线高压发生器</div>
                            <div class="card-tr">
                                <div class="card-td-l">
                                    <div>电压设置</div>
                                    <div class="unit">KV</div>
                                </div>
                                <div class="card-td-s">
                                    <img src="images/add.png">
                                </div>
                                <div class="card-td-l">10</div>
                                <div class="card-td-s">
                                    <img src="images/sub.png">
                                </div>
                            </div>

                            <div class="card-tr">
                                <div class="card-td-l">
                                    <div>电流设置</div>
                                    <div class="unit">mA</div>
                                </div>
                                <div class="card-td-s">
                                    <img src="images/add.png">
                                </div>
                                <div class="card-td-l">5</div>
                                <div class="card-td-s">
                                    <img src="images/sub.png">
                                </div>
                            </div>
                        </div> -->


                            <div class="card-item-stand">
                                <div class="card-title-stand">仪器操控</div>
                                <div class="card-tr-l">
                                    <div class="card-td-first-stand">高压</div>
                                    <div>
                                        <img class=“card-td-s"
                                            style="vertical-align: bottom; margin: 0px; height: 7.5rem; width: 7.5rem; "
                                            src='images\Status0:=StaticBit_Open_Generator:.png' />
                                    </div>
                                    <div class="card-td-first-stand">
                                        <td align="center">
                                            <form method="post" action="">
                                                <input type="submit" class="card-btn-stand" value="关闭高压">
                                                <input type="hidden" name='"HV_Close_Key"' value="1">
                                            </form>
                                        </td>
                                    </div>
                                </div>

                                <div class="card-tr-l">
                                    <div class="card-td-first-stand">光闸</div>
                                    <div>
                                        <img class=“card-td-s"
                                            style="vertical-align: bottom; margin: 0px; height: 7.5rem; width: 7.5rem; "
                                            src='images\Status0:=StaticBit_Shutter_Tube:.png' />
                                    </div>
                                    <div class="card-td-first-stand">
                                        <td align="center">
                                            <form method="post" action="">
                                                <input type="submit" class="card-btn-stand" value="关闭光闸">
                                                <input type="hidden" name='"Shutter_OFF_Key"' value="1">
                                            </form>
                                        </td>
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="card-item-stand">
                            <div class="card-title-stand blue">冷却循环水装置</div>
                            <div class="card-tr">
                                <div class="card-td-l">
                                    <div>温度设置</div>
                                    <div class="unit">℃</div>
                                </div>
                                <div class="card-td-s">
                                    <img src="images/add.png">
                                </div>
                                <div class="card-td-l">20.5</div>
                                <div class="card-td-s">
                                    <img src="images/sub.png">
                                </div>
                            </div>
                            <div class="card-tr">
                                <div class="card-td-l">
                                    <div>偏差设置</div>
                                    <div class="unit">℃</div>
                                </div>
                                <div class="card-td-s">
                                    <img src="images/add.png">
                                </div>
                                <div class="card-td-l">2.0</div>
                                <div class="card-td-s">
                                    <img src="images/sub.png">
                                </div>
                            </div>
                        </div> -->

                        </div>
                    </div>
                </div>


                <!--状态浏览-->
                <div id="stateBrowsingView" class="tabView">
                    <div class="tab-item-border">
                        <div class="tab-item">
                            <!--系统状态-->
                            <div class="card-item-stand">
                                <div class="card-title-stand blueTitle-stand">系统状态</div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">高压运行</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=StaticBit_Open_Generator:.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">光闸故障</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status-N01.png' />
                                    </div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">急停开关</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=StaticBits_Emegency_Down:.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">门机连锁</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=StaticBit_Interlock_Generator:.png' />
                                    </div>
                                </div>
                                <!-- </div> -->
                                <!--X射线高压发生器-->
                                <!-- <div class="card-item-stand"> -->
                                <div class="card-title-stand blueTitle-stand">X射线高压发生器</div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">管电压</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 12.51rem; "
                                            src='images\xStatus0:=Static_Power_HV_Display:.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">管电流</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 12.51rem; "
                                            src='images\xStatus0:=Static_Power_mA_Display:.png' />
                                    </div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">球管超温</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=ErrorBits_OverTemp_Tube:.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">输出功率</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=ErrorBits_OverPower_Generator:.png' />
                                    </div>
                                </div>
                                <!-- </div> -->

                                <!-- <div class="card-item-stand"> -->
                                <div class="card-title-stand blueTitle-stand">冷却循环水装置</div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">循环水温度</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 12.51rem; "
                                            src='images\temStatus0:="Static_WaterTemper_Display":.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">回水流量</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 12.51rem; "
                                            src='images\xStatus0:="Static_WaterFLow_Display":.png' />
                                    </div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">出水压力</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 12.51rem; "
                                            src='images\xStatus0:="Static_Water_Pressure_Display":.png' />
                                    </div>
                                    <div class="card-td-two">
                                        <div class="card-td-two-title-stand">温度传感器</div>
                                        <img style="vertical-align: bottom; margin: 0px; height: 5rem; width: 5rem; "
                                            src='images\Status0:=ErrorBits_WaterTemper_Sensor_Tube:.png' />
                                    </div>
                                </div>
                            </div>

                        </div>

                        <table width=100% height=100% border="0">
                            <tr>
                                <td height="55px">
                            </tr>
                            <tr>
                                <td align="center">
                                    <form method="post" action="">
                                        <input type="submit" class="reset-btn-stand" value="系统复位">
                                        <input type="hidden" name='"Alarm_Reset_Key"' value="1">
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td height="55px">
                            </tr>
                        </table>

                    </div>
                </div>

                <div id="deviceParametersView" class="tabView">
                    <div class="tab-item-border">
                        <div class="tab-item">
                            <div class="card-item-stand">
                                <div class="card-title-stand blueTitle-stand">X射线高压发生器</div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">电压上限</div>
                                    <div class="card-td-second-stand" id="upperVoltageLimit">:=Tube_KV_Limit_SET:</div>
                                    <div class="card-td-third-stand">KV</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">电流上限</div>
                                    <div class="card-td-second-stand" id="upperCurrentLimit">:=Tube_mA_Limit_SET:</div>
                                    <div class="card-td-third-stand">mA</div>
                                </div>
                                <div class="card-tr">
                                    <div class="card-td-first-stand">功率上限</div>
                                    <div class="card-td-second-stand" id="upperPowerLimit">:=Tube_Power_Limit_SET:</div>
                                    <div class="card-td-third-stand">W</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="footer-stand">
                丹东通达科技有限公司
            </div>
        </div>
    </div>

    <script>
        //切换tab方法
        function changeTab(id) {
            //选项卡样式切换
            var tabBtn = document.getElementsByClassName('tab-stand');
            for (var j = 0; j < tabBtn.length; j++) {
                tabBtn[j].classList.remove('active');
            }
            document.getElementById(id).classList.add('active');
            //选项卡内容显示隐藏
            var tabView = document.getElementsByClassName('tabView');
            for (var i = 0; i < tabView.length; i++) {
                tabView[i].classList.remove('show');
            }
            document.getElementById(id + 'View').classList.add('show');
        }
    </script>
</body>

</html>